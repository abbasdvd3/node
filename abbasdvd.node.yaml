tproxy-port: 7893
mode: rule
allow-lan: true
unified-delay: false
log-level: silent
ipv6: true
external-controller: 0.0.0.0:9090
enable-process: true

proxies:
rule-providers:
   BlockAds:
    type: http
    behavior: classical
    path: "./rule_provider/BlockAds.yaml"
    url: https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Advertising/Advertising_Classical.yaml
    interval: 86400
   reject:
    type: http
    behavior: domain
    url: https://cdn.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/reject.txt
    path: "./rule_provider/reject.yaml"
    interval: 86400 
proxy-providers:
  "\U0001F4F6VPN1\U0001F4F6":
    type: http
    target: 'proxy'
    url: https://raw.githubusercontent.com/abbasdvd3/node/main/proxy_providers/VPN1.yaml
    path: "./proxy_provider/VPN1.yaml"
    health-check:
      enable: true
      url: http://cp.cloudflare.com/generate_204
      interval: 500
  "\U0001F4F6VPN2\U0001F4F6":
    type: http
    target: 'proxy'
    url: https://raw.githubusercontent.com/abbasdvd3/node/main/proxy_providers/VPN2.yaml
    path: "./proxy_provider/VPN2.yaml"
    health-check:
      enable: true
      url: http://cp.cloudflare.com/generate_204
      interval: 500
  "\U0001F4F6VPN3\U0001F4F6":
    type: http
    target: 'proxy'
    url: https://raw.githubusercontent.com/abbasdvd3/node/main/proxy_providers/VPN3.yaml
    path: "./proxy_provider/VPN3.yaml"
    health-check:
      enable: true
      url: http://cp.cloudflare.com/generate_204
      interval: 500
  "\U0001F4F6VPN4\U0001F4F6":
    type: http
    target: 'proxy'
    url: https://raw.githubusercontent.com/abbasdvd3/node/main/proxy_providers/VPN4.yaml
    path: "./proxy_provider/VPN4.yaml"
    health-check:
      enable: true
      url: http://cp.cloudflare.com/generate_204
      interval: 500
proxy-groups:
- name: "\U0001F4F6test1\U0001F4F6"
  type: url-test
  disable-udp: false
  use:
  - "\U0001F4F6VPN1\U0001F4F6"
  - "\U0001F4F6VPN3\U0001F4F6"
  url: http://www.gstatic.com/generate_204
  interval: '500'
  tolerance: '150'
- name: "\U0001F4F6test2\U0001F4F6"
  type: url-test
  disable-udp: false
  use:
  - "\U0001F4F6VPN2\U0001F4F6"
  - "\U0001F4F6VPN4\U0001F4F6"
  url: http://www.gstatic.com/generate_204
  interval: '500'
  tolerance: '150'
- name: "♻️LOADBALANCE♻️"
  type: load-balance
  strategy: round-robin
  disable-udp: false
  proxies:
  - "\U0001F4F6test1\U0001F4F6"
  - "\U0001F4F6test2\U0001F4F6"
  url: http://www.gstatic.com/generate_204
  interval: '500'
- name: "\U0001F6A5PING\U0001F6A5"
  type: url-test
  disable-udp: false
  proxies:
  - "\U0001F4F6test1\U0001F4F6"
  - "\U0001F4F6test2\U0001F4F6"
  url: http://cp.cloudflare.com/generate_204
  interval: '500'
  tolerance: '150'
- name: OPSI•ADS
  type: select
  disable-udp: false
  proxies:
  - REJECT
  - "\U0001F4F6test1\U0001F4F6"
  - "\U0001F4F6test2\U0001F4F6"
- name: STREAMING
  type: select
  disable-udp: false
  proxies:
  - "♻️LOADBALANCE♻️"
  - "\U0001F4F6test1\U0001F4F6"
  - "\U0001F4F6test2\U0001F4F6"
rules:
- DOMAIN-SUFFIX,googlesyndication.com,STREAMING
- AND,((DST-PORT,5228-5230),(NETWORK,TCP)),DIRECT
- GEOSITE,CATEGORY-ADS-ALL,✘ has been banned
- IP-CIDR,198.18.0.1/16,DIRECT,no-resolve
- IP-CIDR,127.0.0.1/32,DIRECT,no-resolve
- MATCH,STREAMING
